<!DOCTYPE html>
<html>
    <head></head>
    <body>
        <div id="result"></div>
        <label for="lname">Input Number:</label>
        <input type="text" id="fname" name="fname">
        <label id="warning" ></label>
        <button type="button" onclick="handleStart()">Start</button>
        <button type="button" onclick="handleStop()">Stop</button>
        <script>
            let inputElem = document.querySelector('input');
            let warning = document.querySelector('warning');    
            let t_id=0;  
            let x=0;
            function timing(){
                x=parseInt(localStorage.getItem("inputvalue"));
                if(x>=99){
                    console.log("clearInterval=======>>>>>")
                    clearInterval(t_id);
                }
                else {
                    if(prime(x)){
                        console.log("clearInterval====because x===>>>>>")
                        alert("Current value is prime.")
                        clearInterval(t_id);
                    }
                    else{
                        x++;
                        localStorage.setItem("inputvalue", x);
                        document.getElementById("fname").value=x;                        
                    }                    
                }
            }      
            function handleStart() {     
                t_id=setInterval(timing,1000);   
            }
            function handleStop() {
                alert("Process is stoped by you!")
                clearInterval(t_id);
            }
            function prime(x){
                let isPrime = true;
                let a = Math.round(Math.sqrt(x));
                for (let i = 2; i <= a; i++) {
                    if (x % i == 0) {
                        console.log("x is devided by",i)
                        isPrime = false;
                        break;
                    }
                }
                return isPrime;
            }
            inputElem.addEventListener('input', () => {
                console.log(parseInt(inputElem.value)); 
                if(parseInt(inputElem.value)<=100){
                    if (typeof(Storage) !== "undefined") {
                        localStorage.setItem("inputvalue", inputElem.value);
                    } 
                    else {}
                }
                else{
                    inputElem.value="";console.log("hhhhhhhhhhhhh");
                }
            });            
        </script>

    </body>
</html>
